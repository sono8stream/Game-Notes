# Extenders : ゲームシステム

## コンセプト

何度でも遊べる→1000時間遊べるRPG．

遊ぶたびに変わる→自動生成を効果的に利用．

リアルタイム性はおいておき，過去のプレイにより次のプレイが変化する，という仕様にフォーカスして考える．

## ゲームの流れ その2

初め，魔王の討伐を王様に依頼されるところは変わらない．

世界中に散らばる魔王の手下をすべて討伐し，すべてのパーツを集めて魔王のもとへたどり着き，魔王を封印することが目標となる．

ゲームを開始したタイミングで魔王の手下が現れる場所がランダムに変化する．また，町やダンジョンの場所がランダムに配置される．
町の構造は固定，ダンジョンは場所と構造の両方がランダムに変化する．

冒険中に死亡するとゲームオーバー．ふたたびゼロからスタートすることになる．
ただし過去の自分や世界そのものは残るので，経験が無駄になることはない．

魔王を封印した者が勇者となり，その後凱旋．最後に訪れる町を選択したら，次のプレイでは**世界が数百年後にジャンプする**．

そして世界は，勇者が最後に訪れた町を残して再びランダムに変化し，改めて魔王を封印しに行くことになる．
魔王を含めた敵のステータスは過去のプレイヤー能力に基づいてちょっとだけインフレする．

過去の勇者が残した装備や，世界中のプレイヤーの職業分布によって店に陳列される商品が異なったり一部の町が変化したりすると面白いかな？

アップデートで町やダンジョンのパターンを増やせると，よりバリエーションが出て楽しそう．

展開が単調にならないように，特殊なアイテムや乗り物が無ければ行けない場所などをクリアに必須になるようにできると面白くなるだろう．
例えば船を入手した先に魔王の手下がいる，など．
基本的には町でNPCから依頼を受けるとか，特定のイベントが起きてアイテムを入手する，といったことはないように考えている．
アイテムは購入や鍛冶，ダンジョン探索によって入手できるようにして，イベントらしいイベントは他のプレイヤーとの干渉でのみ発生する，という形にすれば，ある程度のランダム性を確保できると考えている．

魔王を封印したうえで特定の条件をそろえる（HPなど）ことで，魔界へと到達できる．魔力障壁を乗り越えるのにHPを削られる，など？高い体力で行かなければならず，体力の少ない仲間はこれ以上進むことができないが，魔界へ到達するタイミングはここしかないという点でプレイヤーに悩みを与えられる．魔界の町へ到達したら魔石を作ることができ，これを持ち帰り，保管することで次回以降の世界において魔界へとワープ可能となる．

シングルプレイを想定した場合，最終的に魔王を封印ではなく討伐することでエンディングを迎えられる．魔王を封印したあと，何らかの操作により魔王を完全討伐することができる．この辺りの仕様はまだ詰めていない．魔王の実体を倒す，とかになるのかな？

シナリオは自動生成させてみたい．抑揚ポイントを設けることで，単調ではないそこそこ面白いシナリオが生成されるようにしたい．プレイヤーへの飴と鞭のバランスをパラメータにより調整するイメージで．飴は物語の進行とかアイテム獲得，仲間獲得などの成長に関するイベントで，鞭はダンジョン攻略とか冒険者との戦闘，など？

## 世界設定

魔王が数百年おきに復活する世界．魔王は世界，そしてプレイヤーの構築してきた世界を奪おうとする存在．奪う目的は，自分が魔界という狭い世界ではなく様々な人々の営みによって生まれた世界で生きていきたいから．しかしそのための方法を知らず，奪うことしかできないという悲しい一面を持つ．

## 冒険が変化する要素

### 過去のプレイヤー

世界には過去のプレイヤーが現れ，魔王討伐に向けて協力したり競ったりすることになる．

過去のプレイヤーは過去のプレイに基づいてパラメータや行動パターンが変わり，自動で動く．
例えば，残虐性の高いプレイヤーはプレイヤーに対して攻撃的になり，略奪や殺りくに積極的になる．
自動で動くといっても，どの時間にはどこにいるか，といった程度の情報を持たせて，おなじ場所にいるときに何らかの干渉が発生する，といったくらいでよいか．

プレイヤー同士の干渉は同じ町にいればキャラクターそのものが隣接していなくても良い，という仕様でよさそう．いちいち探したり接触したりする必要があるのはアクションゲームみたいで面倒くさそうなので．

### ギルド

過去のプレイヤー，今のプレイヤー同士が徒党を組んで行動することができる．

徒党ごとにある程度の好感度が決まっており，仲間にしやすさや反発しやすさが変化する．

また，ギルドごとに残虐性が異なり，友好的なギルドとそうでないギルドがあったりする．

これにより避けるべき相手や手を組むべき相手がわかりやすくなりそう．

### 職業

プレイヤーは初め，戦士や魔法使いといった自らの職業を選択することになる．職業が異なると覚えるスキルのタイプが異なったり，パラメータの伸びが変化したりする．

いろいろな特性のプレイヤーがいる方がプレイヤー間の干渉が面白くなると考えられる．

### スキル

スキルは各プレイヤーが戦闘中にランダムでひらめく．
プレイヤーの魔力に応じて威力が決まり，ランダムで属性変化や追加効果が付与される，という仕様にすれば良さそう．名前も自由に決められる．

スキルは全部で数種類しか持てないようにして，研究所などで保存したり他人が見つけたものを習得できるといいかな．
世界がリセットされても研究所に保存したスキルはリセットされないでほしい．

スキルや呪文は10段階のレベルとランダムで1つの追加効果が乗る．レベルごとに効果値（威力や回復量など，そのスキルの性能につながる）と必要MPが固定．それに追加効果による差分が乗る．

追加効果例
- 効果ダメージ，回復
- バフ・デバフ
- 状態付与

### 世界の共有

世界はプレイヤーの操作によって大きく変化する．ゆくゆくは世界をエクスポートすることができるようになり，他人の世界をインポートして遊べたりすると面白そう．

## 戦闘システム

基本的にはターン制のコマンドRPG．各プレイヤーは数種類しかスキルを持てず，よく使いそうなものを取捨選択して戦う必要がある．

また，ほかのプレイヤーと共闘する場合は，友好度に基づいて回復や援護をしてくれたり，逆に攻撃される，などの仕様があっても面白そう．

基本的には他のプレイヤーはランダムで行動するが，友好度が一定以上だと命令可能になったりするといいかもね．

流石に古典的なシステムに終始するのもどうかと思うので，案を一つ．

- 戦闘参加者はまず初めに速度が高い順に並べられ，一人ひとり行動が選択され，実行されていく．
- 仲間を操作する場合，単独行動，**連携技**，**待機**を選択することができる．
  - 単独行動 : 攻撃，補助，回復などの行動．速度に応じて次の行動順が決まる．速度が高ければ他の戦闘参加者の前に割り込める場合もある．
  - 連携技 : 後に続く同じ陣営（味方/敵）の戦闘参加者と力を合わせて強力な技を放つ．各自の速度に応じてそれぞれ次の行動順が決まる．
  - 待機 : 自分より後に行動する誰か（敵味方問わず）の直後のタイミングまで行動順を遅らせる．
- いずれの行動も，次の行動順がどうなるか参照しながら決めることができる．
- 単独で敵より早く動いて回復や補助を行うか，あえて待機することで強力な一撃を放つか，といった戦略の余地が生まれる．
- 敵が結託して連携技を打つこともある．
- オクトパストラベラーズを見て何となく着想．

## 町

町では各施設を利用することになる．町の中でキャラクターを移動させるメリット自体はあんまり意味がないので，いっそアドベンチャーゲームみたいにしてしまって，コマンド選択で施設を利用したり他のプレイヤーにコンタクトをとるという形でも問題なさそう．

### 町の施設

- 装備屋 : 装備を買える
- 術書 : スキルを覚えられる
- 研究所 : スキルを保存したり覚えたりできる
- ギルド : ギルドに加入したり脱退したりできる
- 宿屋 : 体力を回復できる．リアルタイム性を無視するなら，日数が経過するようにしても良い
- 酒場 : 同じ町にいるプレイヤーが全員ここに集まっているという仕様にすると，プレイヤー同士が干渉しやすくなりそう
- 預り所 : ．アイテムを預けたり引き出したりできる．過去の自分が預けたアイテムも引き出せたらいいかもね．

## ダンジョン

ダンジョンは古典的なドラクエタイプのRPGのように探索する形で検討中．

完全ランダムな構造にしてもいいし，ギミックを入れるならギミックを盛り込んだ数マスくらいの小エリアがランダムに接続される形でもいい．

やっぱりシンボルエンカウントがいいかな．

ダンジョンの地図は基本的に行ったところから埋まっていく．

しかし街でダンジョン地図を買うと，はじめからある程度内部情報がわかる．世界中の人が冒険しているという世界観を際立たせる．

## 町とダンジョンの移動

町やダンジョンを出るときにワールドマップから行きたい場所を選択する．
町やダンジョンは地理的な近さや港の有無によって接続先が異なる．今いる場所から接続されている場所にのみ移動できる．

## グラフィック

従来のグラフィックでは流石に古典的すぎるので，ちょっとモダンに映るようなものを検討．

- 地形と構造物を分離
- 3次元の光源を配置し，地形に構造物の影が映るようにする
- 全体にブルーム加工を施して高級感を演出
